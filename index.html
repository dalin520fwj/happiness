<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥å¥½å¿ƒæƒ…</title>
    <style>
        :root {
            --bg-color: #f0f4f8;
            --card-bg: #ffffff;
            --accent-color: #ff7e5f;
            --text-color: #2d3436;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #74ebd5 0%, #9face6 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-color);
        }

        .container {
            width: 85%;
            max-width: 400px;
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            backdrop-filter: blur(10px);
        }

        h1 { font-size: 1.5rem; margin-bottom: 20px; color: #4834d4; }

        #quote-box {
            min-height: 80px;
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #34495e;
            font-style: italic;
        }

        .btn {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 0 4px 15px rgba(255, 126, 95, 0.4);
        }

        .btn:active { transform: scale(0.95); }

        .time-setting {
            margin-top: 20px;
            font-size: 0.8rem;
            color: #7f8c8d;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸŒ¤ æ—©ä¸Šå¥½ï¼</h1>
    <div id="quote-box">æ­£åœ¨ä¸ºä½ å‡†å¤‡ä»Šæ—¥ä»½çš„é˜³å…‰...</div>
    <button class="btn" onclick="requestPermission()">å¼€å¯å¥½å¿ƒæƒ…æé†’</button>
    
    <div class="time-setting">
        è®¾å®šæ¯å¤©æ—©ä¸Š 08:30 å‡†æ—¶æé†’
    </div>
</div>

<script>
    const quotes = [
        "ä»Šå¤©ä¹Ÿæ˜¯å……æ»¡å¸Œæœ›çš„ä¸€å¤©ï¼Œè®°å¾—å¾®ç¬‘å“¦ï¼",
        "æ— è®ºä¹Œäº‘å¤šåšï¼Œé˜³å…‰æ€»åœ¨èƒŒåã€‚åŠ æ²¹ï¼",
        "ç”Ÿæ´»ä¸æ˜¯ç­‰å¾…æš´é£é›¨è¿‡å»ï¼Œè€Œæ˜¯åœ¨é›¨ä¸­èµ·èˆã€‚",
        "åšä¸€ä¸ªå†…å¿ƒè‡ªå¸¦å…‰æºçš„äººï¼Œç…§äº®è‡ªå·±ä¹Ÿæ¸©æš–ä»–äººã€‚",
        "æŠŠæ¯ä¸€ä¸ªæ™®é€šçš„æ—¶åˆ»ï¼Œéƒ½è¿‡æˆå€¼å¾—çºªå¿µçš„æ—¥å­ã€‚",
        "ä½ çš„å¿ƒæƒ…å¥½åï¼Œå†³å®šäº†ä¸–ç•Œçš„åº•è‰²ã€‚",
        "å…ˆå˜ä¼˜ç§€ï¼Œå†é‡æ¸©æŸ”ã€‚æ—©å®‰ï¼"
    ];

    // åˆå§‹åŒ–éšæœºè¯­å½•
    function updateQuote() {
        const randomIndex = Math.floor(Math.random() * quotes.length);
        document.getElementById('quote-box').innerText = `â€œ ${quotes[randomIndex]} â€`;
    }

    updateQuote();

    // è¯·æ±‚é€šçŸ¥æƒé™
    function requestPermission() {
        if (!("Notification" in window)) {
            alert("æŠ±æ­‰ï¼Œä½ çš„æ‰‹æœºæµè§ˆå™¨ä¸æ”¯æŒé€šçŸ¥åŠŸèƒ½ã€‚");
            return;
        }

        Notification.requestPermission().then(permission => {
            if (permission === "granted") {
                alert("å¤ªæ£’äº†ï¼å¥½å¿ƒæƒ…æé†’å·²å¼€å¯ã€‚");
                scheduleNotification();
            }
        });
    }

    // è®¾å®šæé†’é€»è¾‘ (æ¨¡æ‹Ÿå®šæ—¶ï¼Œå®é™…ç”±äºæµè§ˆå™¨é™åˆ¶ï¼Œå»ºè®®æ·»åŠ åˆ°ä¸»å±å¹•)
    function scheduleNotification() {
        const now = new Date();
        // è®¾å®šä¸ºæ¯å¤© 8:30
        let triggerTime = new Date();
        triggerTime.setHours(8, 30, 0);

        if (now > triggerTime) {
            triggerTime.setDate(triggerTime.getDate() + 1);
        }

        const timeout = triggerTime.getTime() - now.getTime();

        setTimeout(() => {
            new Notification("å¥½å¿ƒæƒ…å¹¿æ’­ç«™", {
                body: quotes[Math.floor(Math.random() * quotes.length)],
                icon: "https://cdn-icons-png.flaticon.com/512/869/869869.png"
            });
            // å¾ªç¯è®¾å®š
            scheduleNotification();
        }, timeout);
    }
</script>

</body>
</html>
